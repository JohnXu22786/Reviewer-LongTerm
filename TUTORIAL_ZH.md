# Reviewer Intense - 使用教程 📚

## 项目概述

Reviewer Intense 是一个高效的复习工具，采用间隔重复算法帮助用户记忆知识点。本次更新添加了强大的报告系统和文件选择优化功能。

## 🚀 快速开始

### 1. 启动服务
```bash
cd Reviewer-Intense
python app.py
```

### 2. 访问应用
在浏览器中访问：http://localhost:1200

## ✨ 新功能介绍

### 📊 复习报告系统

#### 访问报告页面
1. **完成复习后查看**：当所有题目都掌握后，会显示"All questions have been mastered!"页面，点击**"View Report"**链接
2. **直接访问**：在浏览器中输入 `http://localhost:1200/report?file=文件名.json`

#### 报告内容
报告页面显示以下信息：
- **文件信息**：当前知识库文件名
- **统计概览**：
  - 总题目数
  - 已掌握题目数
  - 复习总次数
- **详细数据表**：
  - 题目ID
  - 题目内容
  - 错误次数（红色显示）
  - 正确次数（绿色显示）
  - 复习总次数
  - 掌握状态（✅/❌）

#### 排序规则
- **主要排序**：按错误次数**降序**排列（错误最多的在前）
- **次要排序**：错误次数相同时，按正确次数**升序**排列

#### 导出功能
点击"Export Report"按钮，可选择三种导出格式：

| 格式 | 特点 | 用途 |
|------|------|------|
| **HTML** | 格式美观，支持打印，包含完整样式 | 打印、存档、分享 |
| **TXT** | 纯文本，结构清晰 | 快速查看、数据处理 |
| **CSV** | 表格格式，支持Excel导入 | 数据分析、统计 |

**导出文件命名格式**：
```
review_report_文件名_时间戳.扩展名
例：review_report_math_1234567890.html
```

### 📚 文件选择优化

#### 下拉栏改进
- **排序方式**：按文件名**降序**排列（数字开头时数字大的在前）
- **显示限制**：只显示前10个文件
- **更多选项**：第11个选项为"More..."，点击进入完整列表页面

#### 完整文件列表
访问 `http://localhost:1200/file-selector` 或点击"More..."选项：
- 显示所有可用知识库文件
- 按降序排序
- 点击文件名即可开始复习
- 显示每个文件的复习状态

#### URL参数支持
在首页URL中添加文件参数可自动加载指定文件：
```
http://localhost:1200/?file=文件名.json
```

**示例**：
```
http://localhost:1200/?file=math_advanced.json
http://localhost:1200/?file=physics_chapter1.json
```

### 🔄 进度保存系统

#### 自动保存
- 每次答题后自动保存进度到 `localStorage`
- 更换知识库时保存当前文件的进度
- 数据格式：`progress_文件名.json`

#### 进度恢复
- 重新加载页面时自动恢复上次的复习状态
- 包含：题目顺序、掌握状态、统计信息

#### 本地存储结构
```javascript
{
  "questionMap": [...],     // 所有题目的状态数据
  "masteredItems": 15,      // 已掌握题目数
  "totalItems": 50,         // 总题目数
  "dynamicSequence": [...]  // 当前复习序列
}
```

## 🎯 核心功能使用指南

### 复习流程
1. **选择知识库**：从下拉框选择或通过"More..."进入完整列表
2. **开始复习**：显示问题，按**空格键**或点击"Show Answer"查看答案
3. **回答反馈**：
   - **记得**：按 **J键** 或点击"Remembered"
   - **忘记**：按 **F键** 或点击"Forgot"
4. **完成复习**：掌握所有题目后查看报告

### 快捷键总结
| 按键 | 功能 | 可用时机 |
|------|------|----------|
| **空格键** | 显示答案 | 问题显示时 |
| **J键** | 记得 | 答案显示时 |
| **F键** | 忘记 | 答案显示时 |
| **ESC键** | 关闭导出菜单 | 报告页面 |

### 算法原理
Reviewer Intense 使用智能间隔重复算法：

1. **初始状态**：所有题目随机排列
2. **首次回答**：
   - **记得** → 直接掌握
   - **忘记** → 8-12个位置后再次出现
3. **二次学习**：
   - 第一次忘记后的记得 → 15-20个位置后复习
   - 再次记得 → 掌握

## 📁 知识库管理

### 文件位置
知识库文件存放在配置的目录中（默认：`D:\knowledge_bases`）

### 文件格式
```json
[
  {
    "id": "可选ID",
    "question": "问题内容",
    "answer": "答案内容"
  }
]
```

### 最佳实践
1. **命名规范**：使用描述性文件名，如 `subject_topic_level.json`
2. **题目组织**：相关题目放在同一文件中
3. **定期备份**：重要的复习进度可导出为HTML存档

## 🔧 故障排除

### 常见问题

#### 1. 报告页面无数据
**可能原因**：
- 未完成任何复习
- 使用了不同的浏览器
- localStorage被清除

**解决方案**：
1. 完成至少一道题目的复习
2. 检查浏览器控制台是否有错误
3. 确认文件名参数正确

#### 2. 进度未保存
**检查步骤**：
1. 确认浏览器支持localStorage
2. 检查控制台错误信息
3. 确保完成至少一次答题操作

#### 3. 文件不显示
**可能原因**：
- 文件不在知识库目录
- 文件不是.json格式
- 文件格式错误

**解决方案**：
1. 检查 `config.json` 中的 `KNOWLEDGE_DIR` 设置
2. 确认文件扩展名为 `.json`
3. 验证JSON格式是否正确

### 开发者工具
使用浏览器开发者工具进行调试：
- **Console**：查看日志信息
- **Application > Storage**：查看localStorage数据
- **Network**：监控API请求

## 📈 高级功能

### 数据导出分析
导出的CSV文件可直接在Excel中分析：
1. 导入CSV到Excel
2. 使用筛选和排序功能
3. 创建图表分析学习曲线

### 批量处理
对于多个知识库，可批量导出报告：
1. 逐个完成复习
2. 分别导出报告
3. 使用脚本合并数据分析

### 自定义配置
修改 `config.json` 文件：
```json
{
  "KNOWLEDGE_DIR": "自定义路径"
}
```

## 📱 移动端支持

### 响应式设计
- 所有页面支持移动设备
- 触摸友好的按钮设计
- 自适应布局

### 移动端使用技巧
1. **横屏模式**：获得更好的显示效果
2. **添加到主屏幕**：创建快捷方式
3. **离线使用**：支持本地存储

## 🔄 版本更新

### 本次更新内容
- ✅ 新增复习报告系统
- ✅ 优化文件选择器排序和限制
- ✅ 添加快捷键和导出功能
- ✅ 改进进度保存机制
- ✅ 增强用户体验

### 未来计划
- 云端同步功能
- 更多导出格式支持
- 学习统计图表
- 多语言支持

## 📞 技术支持

### 获取帮助
1. 查看浏览器控制台错误信息
2. 检查文件权限和路径设置
3. 验证JSON文件格式

### 报告问题
遇到问题时，请提供以下信息：
1. 浏览器版本
2. 错误截图
3. 操作步骤描述
4. 控制台输出

---

**🎉 现在开始高效复习！**

通过使用Reviewer Intense的新功能，您可以：
1. 更直观地选择知识库
2. 实时跟踪学习进度
3. 分析错误模式并改进
4. 导出数据用于长期跟踪

祝您学习愉快，记忆高效！